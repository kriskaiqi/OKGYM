# OKGYM System Diagrams

This document contains various diagrams illustrating the architecture, data flow, and user interactions within the OKGYM system.

## Use Case Diagrams

### Main System Use Cases

```
┌─────────────────────────────────────────────────────────────────────────┐
│                                OKGYM                                     │
│                                                                          │
│  ┌─────────────────┐           ┌───────────────┐     ┌───────────────┐  │
│  │                 │           │               │     │               │  │
│  │ Authentication  │           │ Workout       │     │ Exercise      │  │
│  │                 │           │ Management    │     │ Management    │  │
│  └─────────────────┘           └───────────────┘     └───────────────┘  │
│          │                            │                     │            │
│          │                            │                     │            │
│  ┌─────────────────┐           ┌───────────────┐     ┌───────────────┐  │
│  │                 │           │               │     │               │  │
│  │ User Profile    │           │ Progress      │     │ Real-time     │  │
│  │ Management      │           │ Tracking      │     │ Form Analysis │  │
│  └─────────────────┘           └───────────────┘     └───────────────┘  │
│                                                                          │
└─────────────────────────────────────────────────────────────────────────┘
     ▲         ▲           ▲            ▲               ▲          ▲
     │         │           │            │               │          │
     │         │           │            │               │          │
  ┌──────┐  ┌──────┐  ┌───────┐  ┌────────────┐  ┌────────┐  ┌────────┐
  │      │  │      │  │       │  │            │  │        │  │        │
  │ User │  │ Admin │  │ Trainer│  │ Guest User │  │ System │  │ AI     │
  │      │  │      │  │       │  │            │  │        │  │ Service │
  └──────┘  └──────┘  └───────┘  └────────────┘  └────────┘  └────────┘
```

### User Authentication Use Cases

```
┌─────────────────────────────────────────────────────────────┐
│                 Authentication System                        │
│                                                              │
│    ┌─────────────────┐           ┌─────────────────┐        │
│    │                 │           │                 │        │
│    │ Register        │           │ Login           │        │
│    │                 │           │                 │        │
│    └─────────────────┘           └─────────────────┘        │
│                                                              │
│    ┌─────────────────┐           ┌─────────────────┐        │
│    │                 │           │                 │        │
│    │ Password Reset  │           │ Profile Update  │        │
│    │                 │           │                 │        │
│    └─────────────────┘           └─────────────────┘        │
│                                                              │
└─────────────────────────────────────────────────────────────┘
          ▲                                 ▲
          │                                 │
          │                                 │
       ┌──────┐                        ┌───────┐
       │      │                        │       │
       │ User │                        │ Admin │
       │      │                        │       │
       └──────┘                        └───────┘
```

### Workout Management Use Cases

```
┌─────────────────────────────────────────────────────────────┐
│                 Workout Management System                    │
│                                                              │
│    ┌─────────────────┐           ┌─────────────────┐        │
│    │                 │           │                 │        │
│    │ Create Workout  │           │ Edit Workout    │        │
│    │                 │           │                 │        │
│    └─────────────────┘           └─────────────────┘        │
│                                                              │
│    ┌─────────────────┐           ┌─────────────────┐        │
│    │                 │           │                 │        │
│    │ Start Session   │           │ Track Progress  │        │
│    │                 │           │                 │        │
│    └─────────────────┘           └─────────────────┘        │
│                                                              │
│    ┌─────────────────┐           ┌─────────────────┐        │
│    │                 │           │                 │        │
│    │ View History    │           │ Share Workout   │        │
│    │                 │           │                 │        │
│    └─────────────────┘           └─────────────────┘        │
│                                                              │
└─────────────────────────────────────────────────────────────┘
     ▲            ▲                 ▲
     │            │                 │
     │            │                 │
  ┌──────┐     ┌───────┐        ┌────────┐
  │      │     │ Trainer│        │ System │
  │      │     │       │        │        │
  └──────┘     └───────┘        └────────┘
```

## Sequence Diagrams

### Authentication Sequence

```
┌───────┐          ┌───────────┐          ┌──────────────┐          ┌──────────────┐
│ User  │          │ Frontend  │          │ Auth         │          │ Database     │
│       │          │           │          │ Controller   │          │              │
└───┬───┘          └─────┬─────┘          └──────┬───────┘          └──────┬───────┘
    │                    │                        │                         │
    │ Enter Credentials  │                        │                         │
    │ ─────────────────► │                        │                         │
    │                    │                        │                         │
    │                    │ POST /auth/login       │                         │
    │                    │ ─────────────────────► │                         │
    │                    │                        │                         │
    │                    │                        │ Query User              │
    │                    │                        │ ────────────────────────►
    │                    │                        │                         │
    │                    │                        │ Return User Data        │
    │                    │                        │ ◄────────────────────────
    │                    │                        │                         │
    │                    │                        │ Validate Password       │
    │                    │                        │ ───────────────┐        │
    │                    │                        │                │        │
    │                    │                        │ ◄───────────────        │
    │                    │                        │                         │
    │                    │                        │ Generate JWT            │
    │                    │                        │ ───────────────┐        │
    │                    │                        │                │        │
    │                    │                        │ ◄───────────────        │
    │                    │                        │                         │
    │                    │ Return Token           │                         │
    │                    │ ◄─────────────────────┐│                         │
    │                    │                        │                         │
    │ Login Success      │                        │                         │
    │ ◄─────────────────┐│                        │                         │
    │                    │                        │                         │
┌───┴───┐          ┌─────┴─────┐          ┌──────┴───────┐          ┌──────┴───────┐
│ User  │          │ Frontend  │          │ Auth         │          │ Database     │
│       │          │           │          │ Controller   │          │              │
└───────┘          └───────────┘          └──────────────┘          └──────────────┘
```

### Workout Session Sequence

```
┌───────┐          ┌───────────┐          ┌──────────────┐          ┌──────────────┐
│ User  │          │ Frontend  │          │ Session      │          │ Database     │
│       │          │           │          │ Controller   │          │              │
└───┬───┘          └─────┬─────┘          └──────┬───────┘          └──────┬───────┘
    │                    │                        │                         │
    │ Start Workout      │                        │                         │
    │ ─────────────────► │                        │                         │
    │                    │                        │                         │
    │                    │ POST /workout-sessions │                         │
    │                    │ ─────────────────────► │                         │
    │                    │                        │                         │
    │                    │                        │ Create Session          │
    │                    │                        │ ────────────────────────►
    │                    │                        │                         │
    │                    │                        │ Return Session ID       │
    │                    │                        │ ◄────────────────────────
    │                    │                        │                         │
    │                    │ Return Session Data    │                         │
    │                    │ ◄─────────────────────┐│                         │
    │                    │                        │                         │
    │ Perform Exercise   │                        │                         │
    │ ─────────────────► │                        │                         │
    │                    │                        │                         │
    │                    │ PUT /workout-sessions/{id}                       │
    │                    │ ─────────────────────► │                         │
    │                    │                        │                         │
    │                    │                        │ Update Session          │
    │                    │                        │ ────────────────────────►
    │                    │                        │                         │
    │                    │                        │ Confirm Update          │
    │                    │                        │ ◄────────────────────────
    │                    │                        │                         │
    │                    │ Return Updated Data    │                         │
    │                    │ ◄─────────────────────┐│                         │
    │                    │                        │                         │
    │ Complete Workout   │                        │                         │
    │ ─────────────────► │                        │                         │
    │                    │                        │                         │
    │                    │ POST /workout-sessions/{id}/complete             │
    │                    │ ─────────────────────► │                         │
    │                    │                        │                         │
    │                    │                        │ Finalize Session        │
    │                    │                        │ ────────────────────────►
    │                    │                        │                         │
    │                    │                        │ Update User Progress    │
    │                    │                        │ ────────────────────────►
    │                    │                        │                         │
    │                    │                        │ Return Summary          │
    │                    │                        │ ◄────────────────────────
    │                    │                        │                         │
    │                    │ Return Workout Summary │                         │
    │                    │ ◄─────────────────────┐│                         │
    │                    │                        │                         │
    │ View Summary       │                        │                         │
    │ ◄─────────────────┐│                        │                         │
    │                    │                        │                         │
┌───┴───┐          ┌─────┴─────┐          ┌──────┴───────┐          ┌──────┴───────┐
│ User  │          │ Frontend  │          │ Session      │          │ Database     │
│       │          │           │          │ Controller   │          │              │
└───────┘          └───────────┘          └──────────────┘          └──────────────┘
```

### Exercise Form Analysis Sequence

```
┌───────┐          ┌───────────┐          ┌──────────────┐          ┌──────────────┐
│ User  │          │ Frontend  │          │ Analysis     │          │ Python       │
│       │          │           │          │ Controller   │          │ Service      │
└───┬───┘          └─────┬─────┘          └──────┬───────┘          └──────┬───────┘
    │                    │                        │                         │
    │ Start Exercise     │                        │                         │
    │ with Camera        │                        │                         │
    │ ─────────────────► │                        │                         │
    │                    │                        │                         │
    │                    │ Initialize Camera      │                         │
    │                    │ ───────────────┐       │                         │
    │                    │                │       │                         │
    │                    │ ◄───────────────       │                         │
    │                    │                        │                         │
    │                    │ POST /exercise-analysis/{type}                   │
    │                    │ Frame Data             │                         │
    │                    │ ─────────────────────► │                         │
    │                    │                        │                         │
    │                    │                        │ Process Frame           │
    │                    │                        │ ────────────────────────►
    │                    │                        │                         │
    │                    │                        │ Return Analysis         │
    │                    │                        │ ◄────────────────────────
    │                    │                        │                         │
    │                    │ Return Feedback        │                         │
    │                    │ ◄─────────────────────┐│                         │
    │                    │                        │                         │
    │ View Feedback      │                        │                         │
    │ ◄─────────────────┐│                        │                         │
    │                    │                        │                         │
    │ Continue Exercise  │                        │                         │
    │ ─────────────────► │                        │                         │
    │                    │                        │                         │
    │                    │ POST /exercise-analysis/{type}                   │
    │                    │ Next Frame             │                         │
    │                    │ ─────────────────────► │                         │
    │                    │                        │                         │
    │                    │                        │ Process Frame           │
    │                    │                        │ ────────────────────────►
    │                    │                        │                         │
    │                    │                        │ Return Analysis         │
    │                    │                        │ ◄────────────────────────
    │                    │                        │                         │
    │                    │ Return Feedback        │                         │
    │                    │ ◄─────────────────────┐│                         │
    │                    │                        │                         │
    │ View Real-time     │                        │                         │
    │ Feedback           │                        │                         │
    │ ◄─────────────────┐│                        │                         │
    │                    │                        │                         │
┌───┴───┐          ┌─────┴─────┐          ┌──────┴───────┐          ┌──────┴───────┐
│ User  │          │ Frontend  │          │ Analysis     │          │ Python       │
│       │          │           │          │ Controller   │          │ Service      │
└───────┘          └───────────┘          └──────────────┘          └──────────────┘
```

## Activity Diagrams

### User Registration and Onboarding

```
                    ┌──────────────────┐
                    │                  │
                    │     Start        │
                    │                  │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │                  │
                    │  Visit Homepage  │
                    │                  │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │                  │
                    │  Click Register  │
                    │                  │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │                  │
                    │  Fill Form       │
                    │                  │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │  Submit          │
                    │  Registration    │
                    │  Form            │
                    └─────────┬────────┘
                              │
                              ▼
               ┌──────────────────────────┐
               │                          │
               │ Validation Check         │
               │                          │
               └───────────┬──────────────┘
                           │
                ┌──────────┴──────────┐
                │                     │
        ┌───────▼─────────┐  ┌────────▼───────┐
        │ Invalid Data    │  │ Valid Data     │
        └───────┬─────────┘  └────────┬───────┘
                │                     │
                │                     │
        ┌───────▼─────────┐  ┌────────▼───────┐
        │ Show Error      │  │ Create User    │
        │ Message         │  │ Account        │
        └───────┬─────────┘  └────────┬───────┘
                │                     │
                │                     │
                │            ┌────────▼───────┐
                │            │ Send            │
                │            │ Verification    │
                │            │ Email           │
                │            └────────┬───────┘
                │                     │
                │                     │
                │            ┌────────▼───────┐
                │            │ User            │
                │            │ Confirms        │
                │            │ Email           │
                │            └────────┬───────┘
                │                     │
                │                     │
                │            ┌────────▼───────┐
                │            │ Account         │
                │            │ Activated       │
                │            └────────┬───────┘
                │                     │
                │                     │
        ┌───────▼─────────┐  ┌────────▼───────┐
        │                 │  │                │
        │ Return to       │  │ Redirect to    │
        │ Registration    │  │ Onboarding     │
        │                 │  │                │
        └─────────────────┘  └────────┬───────┘
                                      │
                                      │
                             ┌────────▼───────┐
                             │ Setup           │
                             │ Profile         │
                             │ Preferences     │
                             └────────┬───────┘
                                      │
                                      │
                             ┌────────▼───────┐
                             │ Select          │
                             │ Available       │
                             │ Equipment       │
                             └────────┬───────┘
                                      │
                                      │
                             ┌────────▼───────┐
                             │ Set             │
                             │ Fitness         │
                             │ Goals           │
                             └────────┬───────┘
                                      │
                                      │
                             ┌────────▼───────┐
                             │                │
                             │ Redirect to    │
                             │ Dashboard      │
                             │                │
                             └────────┬───────┘
                                      │
                                      ▼
                             ┌────────────────┐
                             │                │
                             │     End        │
                             │                │
                             └────────────────┘
```

### Starting and Completing a Workout Session

```
                    ┌──────────────────┐
                    │                  │
                    │     Start        │
                    │                  │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │                  │
                    │ View Dashboard   │
                    │                  │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │                  │
                    │ Select Workout   │
                    │                  │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │                  │
                    │ View Workout     │
                    │ Details          │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │                  │
                    │ Click Start      │
                    │ Workout          │
                    └─────────┬────────┘
                              │
                              ▼
                    ┌──────────────────┐
                    │                  │
                    │ Initialize       │
                    │ Workout Session  │
                    └─────────┬────────┘
                              │
                              ▼
               ┌──────────────────────────┐
               │                          │
               │ For Each Exercise        │
               │                          │
               └───────────┬──────────────┘
                           │
                           │
               ┌───────────▼──────────────┐
               │                          │
               │ Start Exercise           │
               │                          │
               └───────────┬──────────────┘
                           │
                           ▼
               ┌───────────────────────────┐
               │ Optional: Enable Camera   │
               │ for Form Analysis         │
               └───────────┬───────────────┘
                           │
                           ▼
               ┌───────────────────────────┐
               │                           │
               │ Perform Exercise          │
               │                           │
               └───────────┬───────────────┘
                           │
                ┌──────────┴──────────┐
                │                     │
        ┌───────▼─────────┐  ┌────────▼───────┐
        │ Camera Enabled  │  │ Camera Disabled │
        └───────┬─────────┘  └────────┬───────┘
                │                     │
                │                     │
        ┌───────▼─────────┐          │
        │ Receive Real-   │          │
        │ time Form       │          │
        │ Feedback        │          │
        └───────┬─────────┘          │
                │                     │
                └──────────┬──────────┘
                           │
                           ▼
               ┌───────────────────────────┐
               │                           │
               │ Complete Exercise         │
               │                           │
               └───────────┬───────────────┘
                           │
                           ▼
               ┌───────────────────────────┐
               │                           │
               │ Record Exercise Data      │
               │                           │
               └───────────┬───────────────┘
                           │
                           ▼
               ┌───────────────────────────┐
               │                           │
               │ More Exercises?           │
               │                           │
               └───────────┬───────────────┘
                           │
                ┌──────────┴──────────┐
                │                     │
        ┌───────▼─────────┐  ┌────────▼───────┐
        │ Yes             │  │ No              │
        └───────┬─────────┘  └────────┬───────┘
                │                     │
                │                     │
                │            ┌────────▼───────┐
                │            │ Complete        │
                │            │ Workout         │
                │            │ Session         │
                │            └────────┬───────┘
                │                     │
                │                     │
                │            ┌────────▼───────┐
                │            │ Calculate       │
                │            │ Session         │
                │            │ Metrics         │
                │            └────────┬───────┘
                │                     │
                │                     │
                │            ┌────────▼───────┐
                │            │ Update User     │
                │            │ Progress        │
                │            └────────┬───────┘
                │                     │
                │                     │
                │            ┌────────▼───────┐
                │            │ Display         │
                │            │ Workout         │
                │            │ Summary         │
                │            └────────┬───────┘
                │                     │
                │                     │
                │            ┌────────▼───────┐
                │            │ Option to Rate  │
                │            │ Workout         │
                │            └────────┬───────┘
                │                     │
                └──────────────┐      │
                               │      │
                               ▼      ▼
                         ┌─────────────────┐
                         │                 │
                         │     End         │
                         │                 │
                         └─────────────────┘
``` 